---
templateKey: blog-post
title: LINEのLIFFアプリでユーザ情報を取得する
date: 2020-08-12T04:42:16.163Z
description: LIFFアプリというものを最近知りました。要は、LINEログインです。
---
LIFFアプリというものを最近知りました。要は、LINEログインです。

## LIFFアプリの作成

LINEのLIFFアプリの作り方はこちらの記事を参考にしました。

[【2020年6月】LINEでミニアプリを作る！ – LIFFを使って爆速HelloWorld｜ProgLearn - プログラミング総合情報サイトプログラーン](https://blog.proglearn.com/2020/06/27/%E3%80%902020%E5%B9%B46%E6%9C%88%E3%80%91line%E3%81%A7%E3%83%9F%E3%83%8B%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E4%BD%9C%E3%82%8B%EF%BC%81-liff%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E7%88%86%E9%80%9Fhell/)

Scopeの`openid`にチェックを入れます。これを入れないと後述のユーザ情報を取得するAPIが使えません。

![1ad7dee5.png](/img/9c36bc7b.png)

## LIFF

[LINE Front-end Framework | LINE Developers](https://developers.line.biz/ja/docs/liff/)

### ユーザ情報を取得する

こちらの公式ドキュメントを参考にしました。

[LIFFアプリおよびサーバーでユーザー情報を使用する | LINE Developers](https://developers.line.biz/ja/docs/liff/using-user-profile/#%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E6%83%85%E5%A0%B1%E3%82%92%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%A7%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B)

LIFFのSDKでプロフィール情報を取得します。[liff.getDecodedIDToken()](https://developers.line.biz/ja/reference/liff/#get-decoded-id-token)メソッドを使用してJWT情報を取ってこれます。ただ、この情報はサーバに送るのは非推奨になっているので、サーバ側でプロフィールを取得する必要があります。

### サーバでユーザー情報を使用する

こちらのサーバ側でユーザ情報を取得する方法でやったほうが良いとのことです。

[LIFFアプリおよびサーバーでユーザー情報を使用する | LINE Developers](https://developers.line.biz/ja/docs/liff/using-user-profile/#%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E6%83%85%E5%A0%B1%E3%82%92%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%A7%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B)
