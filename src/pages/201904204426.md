---
templateKey: blog-post
title: Netlifyã®Functionsæ©Ÿèƒ½ã‚’ä½¿ã£ã¦ã¿ã‚‹
date: 2019-04-19T16:42:12.232Z
description: Netlifyã«ã¯Funtionsã¨ã„ã†æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚’ä½¿ãˆã°Netlifyã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã‚µã‚¤ãƒˆã§Amazon Lambdaã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
---
Netlifyã«ã¯Funtionsã¨ã„ã†æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚’ä½¿ãˆã°Netlifyã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã‚µã‚¤ãƒˆã§Amazon Lambdaã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

## ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ã‚„ã£ã¦ã¿ã‚‹

ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚

[Netlify Functions Examples](https://functions-playground.netlify.com/)

`deploying a copy to Netlify.`ã®ãƒªãƒ³ã‚¯ã‚’è¸ã‚€ã¨è‡ªåˆ†ã®Netlifyã«é£›ã‚“ã§ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ã‹ã©ã†ã‹èã‹ã‚Œã¾ã™ã€‚ç§ã¯Githubã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨é€£æºã—ã¦ã„ã‚‹ã®ã§Githubã«ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸã€‚

![](/img/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ-2019-04-20-0.03.22.png)

å‡ºæ¥ä¸ŠãŒã£ãŸãƒªãƒã‚¸ãƒˆãƒªã¯[ã“ã¡ã‚‰](https://github.com/SatoshiKawabata/netlify-functions-example)ã€‚

ã“ã‚Œã‚’Netlifyã§ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨å…ˆç¨‹ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãƒšãƒ¼ã‚¸ã¨å…¨ãåŒã˜ã‚‚ã®ãŒãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã™ã€‚ã“ã¡ã‚‰ã®urlã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã¾ã—ãŸã€‚

https://netlify-functions-example-kwst.netlify.com/

### ãƒ­ãƒ¼ã‚«ãƒ«ã§èµ·å‹•ã—ã¦ã¿ã‚‹ã¨Webpackã§ã‚³ã‚±ãŸ

ä¸‹è¨˜ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã—ãŸã€‚

```
TypeError: Cannot read property 'properties' of undefined
    at module.exports (/Users/satoshi/practice/netlify-functions-example/node_modules/webpack-cli/bin/config-yargs.js:89:48)
    at Object.<anonymous> (/Users/satoshi/practice/netlify-functions-example/node_modules/webpack-dev-server/bin/webpack-dev-server.js:86:25)
    at Module._compile (module.js:641:30)
    at Object.Module._extensions..js (module.js:652:10)
    at Module.load (module.js:560:32)
    at tryModuleLoad (module.js:503:12)
    at Function.Module._load (module.js:495:3)
    at Function.Module.runMain (module.js:682:10)
    at startup (bootstrap_node.js:191:16)
    at bootstrap_node.js:613:3
```

[Webpackã®ã‚¨ãƒ©ãƒ¼](https://github.com/plotly/dash-component-boilerplate/issues/12)ãªã®ã§ã€Webpackå‘¨ã‚Šã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æœ€æ–°ã«ã—ã¦ã¿ã‚‹ã¨ç›´ã‚Šã¾ã—ãŸã€‚

ä¿®æ­£ã—ã¦PRé€ã£ã¦ã¿ãŸã‚‰ã€ãƒãƒ¼ã‚¸ã•ã‚Œã¾ã—ãŸğŸ‰

https://github.com/netlify/functions/pull/22

### ã‚¢ã‚¯ã‚»ã‚¹

`http://localhost:8080`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã‚‹ã¨å…ˆç¨‹ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

### lamdaã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã™ã‚‹ã«ã¯ï¼Ÿ

`package.json`ã‚’è¦‹ã¦ã¿ã‚‹ã¨`netlify-lambda`ã¨ã„ã†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§lambdaã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å‹•ã‹ã—ã¦ã„ã‚‹ã¿ãŸã„ã§ã™ã€‚

```
"start:server": "netlify-lambda serve src/lambda -c webpack.server.js",
```

[GitHub - netlify/netlify-lambda: Helps building and serving lambda functions locally and in CI environments](https://github.com/netlify/netlify-lambda)

`netlify.toml`ã®`functions`ã§æŒ‡å®šã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®jsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ã—ã¦å‹•ã‹ã™ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã§ã™ã€‚

```
[build]
  command = "yarn build"
  publish = "dist/client"
  functions = "dist/server"
```

è©¦ã—ã«`hello2.js`ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã™ã€‚

src/lambda/hello2.js

```
exports.handler = function(event, context, callback) {
  callback(null, {
    statusCode: 200,
    body: "Hello, World2"
  });
};
```

ã“ã‚Œã§pushã—ã¦ã¿ã‚‹ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ãŒèµ°ã‚Šä¸‹è¨˜urlã‹ã‚‰`hello2.js`ãŒå‹•ã„ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã¨ãã®ãƒ­ã‚°ã‚‚Netlifyä¸Šã§è¦‹ã‚Œã‚‹ã®ã§ä¾¿åˆ©ã§ã™ã€‚

https://netlify-functions-example-kwst.netlify.com/.netlify/functions/hello2
